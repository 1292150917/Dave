(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9c6340c4"],{"0c1c":function(t,e,n){"use strict";var r=n("4062"),a=n.n(r);a.a},"14c3":function(t,e,n){var r=n("c6b6"),a=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var i=n.call(t,e);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},"3ca3":function(t,e,n){"use strict";var r=n("6547").charAt,a=n("69f3"),i=n("7dd0"),s="String Iterator",l=a.set,o=a.getterFor(s);i(String,"String",(function(t){l(this,{type:s,string:String(t),index:0})}),(function(){var t,e=o(this),n=e.string,a=e.index;return a>=n.length?{value:void 0,done:!0}:(t=r(n,a),e.index+=t.length,{value:t,done:!1})}))},4062:function(t,e,n){},"4df4":function(t,e,n){"use strict";var r=n("0366"),a=n("7b0b"),i=n("9bdd"),s=n("e95a"),l=n("50c4"),o=n("8418"),c=n("35a1");t.exports=function(t){var e,n,u,f,d,p,v=a(t),h="function"==typeof this?this:Array,m=arguments.length,g=m>1?arguments[1]:void 0,x=void 0!==g,b=c(v),E=0;if(x&&(g=r(g,m>2?arguments[2]:void 0,2)),void 0==b||h==Array&&s(b))for(e=l(v.length),n=new h(e);e>E;E++)p=x?g(v[E],E):v[E],o(n,E,p);else for(f=b.call(v),d=f.next,n=new h;!(u=d.call(f)).done;E++)p=x?i(f,g,[u.value,E],!0):u.value,o(n,E,p);return n.length=E,n}},5319:function(t,e,n){"use strict";var r=n("d784"),a=n("825a"),i=n("7b0b"),s=n("50c4"),l=n("a691"),o=n("1d80"),c=n("8aa5"),u=n("14c3"),f=Math.max,d=Math.min,p=Math.floor,v=/\$([$&'`]|\d\d?|<[^>]*>)/g,h=/\$([$&'`]|\d\d?)/g,m=function(t){return void 0===t?t:String(t)};r("replace",2,(function(t,e,n,r){var g=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,x=r.REPLACE_KEEPS_$0,b=g?"$":"$0";return[function(n,r){var a=o(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,a,r):e.call(String(a),n,r)},function(t,r){if(!g&&x||"string"===typeof r&&-1===r.indexOf(b)){var i=n(e,t,this,r);if(i.done)return i.value}var o=a(t),p=String(this),v="function"===typeof r;v||(r=String(r));var h=o.global;if(h){var y=o.unicode;o.lastIndex=0}var _=[];while(1){var w=u(o,p);if(null===w)break;if(_.push(w),!h)break;var A=String(w[0]);""===A&&(o.lastIndex=c(p,s(o.lastIndex),y))}for(var S="",R=0,U=0;U<_.length;U++){w=_[U];for(var C=String(w[0]),I=f(d(l(w.index),p.length),0),T=[],$=1;$<w.length;$++)T.push(m(w[$]));var k=w.groups;if(v){var P=[C].concat(T,I,p);void 0!==k&&P.push(k);var j=String(r.apply(void 0,P))}else j=E(C,p,I,T,k,r);I>=R&&(S+=p.slice(R,I)+j,R=I+C.length)}return S+p.slice(R)}];function E(t,n,r,a,s,l){var o=r+t.length,c=a.length,u=h;return void 0!==s&&(s=i(s),u=v),e.call(l,u,(function(e,i){var l;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(o);case"<":l=s[i.slice(1,-1)];break;default:var u=+i;if(0===u)return e;if(u>c){var f=p(u/10);return 0===f?e:f<=c?void 0===a[f-1]?i.charAt(1):a[f-1]+i.charAt(1):e}l=a[u-1]}return void 0===l?"":l}))}}))},6547:function(t,e,n){var r=n("a691"),a=n("1d80"),i=function(t){return function(e,n){var i,s,l=String(a(e)),o=r(n),c=l.length;return o<0||o>=c?t?"":void 0:(i=l.charCodeAt(o),i<55296||i>56319||o+1===c||(s=l.charCodeAt(o+1))<56320||s>57343?t?l.charAt(o):i:t?l.slice(o,o+2):s-56320+(i-55296<<10)+65536)}};t.exports={codeAt:i(!1),charAt:i(!0)}},"8aa5":function(t,e,n){"use strict";var r=n("6547").charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},9263:function(t,e,n){"use strict";var r=n("ad6d"),a=n("9f7f"),i=RegExp.prototype.exec,s=String.prototype.replace,l=i,o=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),c=a.UNSUPPORTED_Y||a.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],f=o||u||c;f&&(l=function(t){var e,n,a,l,f=this,d=c&&f.sticky,p=r.call(f),v=f.source,h=0,m=t;return d&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),m=String(t).slice(f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==t[f.lastIndex-1])&&(v="(?: "+v+")",m=" "+m,h++),n=new RegExp("^(?:"+v+")",p)),u&&(n=new RegExp("^"+v+"$(?!\\s)",p)),o&&(e=f.lastIndex),a=i.call(d?n:f,m),d?a?(a.input=a.input.slice(h),a[0]=a[0].slice(h),a.index=f.lastIndex,f.lastIndex+=a[0].length):f.lastIndex=0:o&&a&&(f.lastIndex=f.global?a.index+a[0].length:e),u&&a&&a.length>1&&s.call(a[0],n,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(a[l]=void 0)})),a}),t.exports=l},"9f7f":function(t,e,n){"use strict";var r=n("d039");function a(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=a("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=a("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a630:function(t,e,n){var r=n("23e7"),a=n("4df4"),i=n("1c7e"),s=!i((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:s},{from:a})},ac1f:function(t,e,n){"use strict";var r=n("23e7"),a=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},ad6d:function(t,e,n){"use strict";var r=n("825a");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},cbc9:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"codeAssociated"},[t._m(0),n("div",{staticClass:"tonyon_list"},[t._v(" 保存文件绝对路径的地址： "),n("el-input",{staticStyle:{width:"50%","margin-left":"11px"},attrs:{size:"small",placeholder:""},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}})],1),n("el-button",{on:{click:t.shengcheng}},[t._v("生成代码")]),t.is_shengcheng?n("el-tabs",{staticClass:"tables0e",staticStyle:{"line-height":"23px"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"前端代码",name:"0"}},[n("pre",{staticClass:"previewhtml-main hljs"},[t._v("              "),n("code",{staticClass:"javascript"},[t._v("\n    //form提交\n\n    "+t._s(t.html)+"\n\n    //uniapp案例\n\n    uni.chooseImage({\n\t\tcount: 6, //默认9\n\t\tsizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\n\t\tsourceType: ['album', 'camera'], //从相册选择\n\t\tsuccess: function(res) {\n\t\t\tconst tempFilePaths = res.tempFilePaths;\n                        // 多图上传\n\t\t\ttempFilePaths.forEach(s => {\n\t\t\t\tconst uploadTask = uni.uploadFile({\n\t\t\t\t\turl: '请求地址' + '/filesUpload/add', //仅为示例，非真实的接口地址\n\t\t\t\t\tfilePath: s,\n\t\t\t\t\tname: 'file',\n\t\t\t\t\theader: {\n\t\t\t\t\t\t'Content-Type': 'multipart/form-data' //记得设置\n\t\t\t\t\t},\n\t\t\t\t\tformData: {},\n\t\t\t\t\tsuccess: uploadFileRes => {\n                                            console.log(uploadFileRes)\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t});\n\n    \n    // 其他格式的form自行百度\n    //大致方式是\n    //let formData = new FormData();\n    // 向 formData 对象中添加文件\n    //formData.append('file',this.file);\n    //formData.append('file',this.file2);\n              ")]),t._v("\n       ")])]),n("el-tab-pane",{attrs:{label:"controller/filesUpload.js",name:"1"}},[n("pre",{staticClass:"previewhtml-main hljs"},[t._v("              "),n("code",{staticClass:"javascript"},[t._v("\n     let express = require('express');\n     let router = express.Router();\n     let filesUpload = require('../service/filesUpload.js')\n     filesUpload = new filesUpload()\n\n     /**\n     * @api {post} /filesUpload/add 图片上传\n     * @apiDescription \"\"\n     */\n     router.post('/add', async function (req, res, next) {\n         let data = await filesUpload.add(req,res)\n         res.send(data)\n     });\n     module.exports = router\n              ")]),t._v("\n       ")])]),n("el-tab-pane",{attrs:{label:"service/filesUpload.js",name:"2"}},[n("pre",{staticClass:"previewhtml-main hljs"},[t._v("              "),n("code",{staticClass:"javascript"},[t._v("\n    class filesUpload {\n        constructor() {\n        }\n        emptyData(msg) {\n            Object.keys(msg).map(s => {\n                if (msg[s] === '' || msg[s] === undefined) {\n                    delete msg[s]\n                }\n            })\n            return msg\n        }\n        verify(test, val) {\n            for (var item in test) {\n                if (!val[test[item].name]) {\n                    return test[item].name + \"为空\"\n                }\n            }\n        }\n        async add(req, res) {\n            try {\n                var data = {}\n                var formidable = require('formidable')\n                var form = new formidable.IncomingForm();\n                form.uploadDir = \""+t._s(t.urlGo)+"\";\n                form.keepExtensions = true;\n                form.maxFieldsSize = 2 * 1024 * 1024; //限制大小\n                form.multiples = true //多选\n                await new Promise(prevct => {\n                    form.parse(req, function (error, fields, files) {\n                        if (error) {\n                            data = {\n                                status: 501,\n                                msg: \"文件解析失败\"\n                            }\n                        } else {\n                            var filesList = []\n                            if (Object.prototype.toString.call(files.pic) === '[object Array]') {\n                                files.pic.map(v => {\n                                    filesList.push(uploadUrl(v.path))\n                                })\n                            } else {\n                                filesList = uploadUrl(files.pic.path)\n                            }\n                            data = {\n                                status: 200,\n                                data: filesList\n                            }\n                            prevct(filesList)\n                        }\n                    })\n                })\n                function uploadUrl(v) {\n                    return v.match(/\\upload(.+?)$/)[0]\n                }\n            } catch (error) {\n                data = {\n                    status: 500,\n                    data: '未知错误'\n                }\n            }\n            return data\n        }\n    }\n    module.exports = filesUpload \n              ")]),t._v("\n       ")])])],1):t._e()],1)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("pre",{staticClass:"previewhtml-main hljs"},[t._v("              "),n("code",{staticClass:"javascript"},[t._v("\n      请先输入文件的绝对路径 路径地址大概为：E:\\\\static 然后在赋值代码 代码是双向绑定的 输入地址即可\n      上传文件需要 formidable包 操作方法如下\n      npm install formidable\n\n      前端请求为from格式提交文件\n              ")]),t._v("\n          ")])])}],i=(n("a630"),n("d81d"),n("ac1f"),n("3ca3"),n("5319"),n("96cf"),n("1da1")),s=n("1487"),l=n.n(s),o={name:"App",data:function(){return{activeName:"0",value:"",urlGo:"",url:"",is_shengcheng:!1,html:'<form action="/filesUpload/add" method="post" enctype="multipart/form-data"></form>',catalogue:""}},watch:{activeName:function(){}},methods:{shengcheng:function(){var t=this;this.is_shengcheng=!1,this.urlGo=this.url.replace(/\\/g,"/"),this.$nextTick((function(){t.is_shengcheng=!0,t.$nextTick((function(){var t=document.querySelectorAll(".previewhtml-main");Array.from(t).map((function(t){l.a.highlightBlock(t)}))}))}))}},created:function(){return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},mounted:function(){this.$nextTick((function(){var t=document.querySelectorAll(".previewhtml-main");Array.from(t).map((function(t){l.a.highlightBlock(t)}))}))}},c=o,u=(n("0c1c"),n("2877")),f=Object(u["a"])(c,r,a,!1,null,"2b5b61ba",null);e["default"]=f.exports},d784:function(t,e,n){"use strict";n("ac1f");var r=n("6eeb"),a=n("d039"),i=n("b622"),s=n("9263"),l=n("9112"),o=i("species"),c=!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),f=i("replace"),d=function(){return!!/./[f]&&""===/./[f]("a","$0")}(),p=!a((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,f){var v=i(t),h=!a((function(){var e={};return e[v]=function(){return 7},7!=""[t](e)})),m=h&&!a((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[o]=function(){return n},n.flags="",n[v]=/./[v]),n.exec=function(){return e=!0,null},n[v](""),!e}));if(!h||!m||"replace"===t&&(!c||!u||d)||"split"===t&&!p){var g=/./[v],x=n(v,""[t],(function(t,e,n,r,a){return e.exec===s?h&&!a?{done:!0,value:g.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),b=x[0],E=x[1];r(String.prototype,t,b),r(RegExp.prototype,v,2==e?function(t,e){return E.call(t,this,e)}:function(t){return E.call(t,this)})}f&&l(RegExp.prototype[v],"sham",!0)}},d81d:function(t,e,n){"use strict";var r=n("23e7"),a=n("b727").map,i=n("1dde"),s=n("ae40"),l=i("map"),o=s("map");r({target:"Array",proto:!0,forced:!l||!o},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-9c6340c4.03ed78c0.js.map